# C3.5 — Visualization v4  
(Визуализация результатов сценарных вычислений)

## 1. Назначение слоя C3.5

Слой **C3.5** отвечает за визуализацию
результатов сценарных вычислений
в архитектуре NeuroTransAnalytics версии v4.

C3.5:

- **не выполняет вычислений**;
- **не агрегирует данные**;
- **не модифицирует результаты**;
- отображает **только стандартизированные артефакты C3.4**.

Визуализация рассматривается
как средство исследования и ориентации,
а не как источник новых данных.

---

## 2. Методологическая позиция визуализации

В версии v4 визуализация:

- не является аналитическим слоем;
- не заменяет сценарные вычисления;
- не может существовать вне сценарного контекста.

Любой визуальный объект
имеет смысл **только в связке
с конкретным ScenarioResult**.

---

## 3. Входной контракт C3.5

### 3.1 Допустимые источники данных

C3.5 принимает **исключительно**:

- `ScenarioResult`
- `DistributionPack`
- `ContrastPack`

сформированные в слое **C3.4**.

Передача в C3.5:
- сырых данных,
- событий,
- компонент,
- частичных агрегатов

**строго запрещена**.

---

### 3.2 Отсутствие прямого доступа к данным

C3.5:

- не обращается к `neuro_data.db`;
- не выполняет SQL-запросов;
- не использует результаты C3.1–C3.3 напрямую.

Все данные поступают
через стандартизированные артефакты.

---

## 4. Принцип «GUI не считает»

В архитектуре v4 действует жёсткое правило:

> **GUI никогда не считает.**

Это означает:

- GUI не агрегирует данные;
- GUI не строит контрасты;
- GUI не выполняет фильтрацию,
  влияющую на численные значения.

GUI:
- выбирает сценарии;
- передаёт параметры в C3.4;
- отображает готовые артефакты.

---

## 5. Базовые типы визуальных представлений

### 5.1 Distribution Views

Используются для отображения:

- распределений RT;
- распределений компонент (ΔV1, ΔV4, ΔV5/MT);
- распределений архитектурных разностей.

Основание:
- `DistributionPack`.

---

### 5.2 Architecture Maps

Отображают:

- архитектурные конфигурации реакции;
- соотношения компонент;
- профили перераспределения времени.

Architecture Maps
всегда привязаны к конкретному сценарию.

---

### 5.3 Contrast Views

Используются для визуализации:

- парных контрастов;
- условно-зависимых различий;
- архитектурных расхождений.

Основание:
- `ContrastPack`.

---

### 5.4 PSI-ориентированные визуализации

Допустимы визуализации:

- профилей по PSI;
- тепловых карт (PSI × архитектура);
- зон усиления / сглаживания эффектов.

PSI никогда
не интерпретируется как причина,
а отображается как параметр дизайна.

---

## 6. Латерализация и пространственная организация

При наличии соответствующих сценариев
визуализация может отображать:

- различия левого / центрального / правого поля;
- симметрии и асимметрии эффектов;
- пространственно-зависимые профили.

Пространственная визуализация
не вводит новых осей,
а использует только сценарные параметры.

---

## 7. Отображение QC и границ применимости

Каждая визуализация обязана:

- явно указывать QC-статус данных;
- отображать границы применимости;
- предупреждать об ограничениях интерпретации.

QC-информация
является обязательной частью визуального артефакта.

---

## 8. Универсальный визуализационный пайплайн

Визуализация в v4 строится по единой схеме:

1. выбор ScenarioResult;
2. загрузка связанных DistributionPack / ContrastPack;
3. применение визуальных шаблонов;
4. отображение с сохранением сценарного контекста.

Никакие шаги пайплайна
не могут изменять численные значения.

---

## 9. Форматы выходных артефактов

C3.5 формирует:

- интерактивные визуализации;
- статические графики;
- экспортируемые изображения и отчёты.

Все выходные артефакты:

- ссылаются на сценарий;
- содержат версию вычислений;
- не существуют автономно от ScenarioResult.

---

## 10. Минимальный набор визуализаций v4

Для каждой инсталляции v4
должны быть реализованы:

- распределения компонент;
- архитектурные контрасты;
- PSI-профили (при наличии сценариев B);
- пространственные срезы (при наличии данных).

---

## 11. Принципиальные запреты C3.5

Запрещено:

- визуализировать данные без сценария;
- выполнять вычисления в GUI;
- скрывать QC-статус;
- создавать визуальные «псевдорезультаты»;
- интерпретировать визуализацию как вывод.

C3.5 является **отображающим,
а не вычислительным слоем**.

---

## 12. Итоговая роль C3.5

Слой C3.5 обеспечивает:

- наглядное представление сценарных результатов;
- исследовательскую навигацию по данным;
- визуальную проверку устойчивости эффектов;
- строгую границу между вычислением и интерпретацией.

C3.5 завершает вычислительную ось v4
и подготавливает данные
для интерпретационного уровня C4.

---
