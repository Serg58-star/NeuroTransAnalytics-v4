# CHANGELOG

Все значимые изменения проекта фиксируются в этом документе.
Формат ориентирован на методологические и архитектурные вехи,
а не на технические детали реализации.

---

## [2026-01-08] — Завершение слоя ETL → QC → Aggregates

### Added
- Формализован логический ETL-план преобразования legacy-таблицы `boxbase`
  в аналитическое представление `visual_tests`
  (`ETL_boxbase_to_visual_tests.md`).
- Зафиксировано каноническое определение одной записи `visual_tests`
  как объекта анализа (один тест одного пациента в одной сессии).
- Формализован обязательный контроль качества данных после ETL
  (`QC_after_ETL_visual_tests.md`).
- Формализован первый минимальный агрегатный расчёт
  поверх QC-валидных данных (`Aggregates_minimal_after_QC.md`).

### Fixed
- Явно зафиксирован статус времени проведения тестирования
  как методически и физиологически значимого параметра,
  сохраняемого при ETL и относящегося к уровню теста/сессии.
- Исключены некорректные трактовки,
  предполагающие утрату временного контекста тестирования.

### Clarified
- Чётко разведены уровни ответственности:
  - ETL — формализация объекта данных без анализа;
  - QC — валидация корректности и надёжности данных;
  - Aggregates — минимальный устойчивый расчёт без интерпретаций.
- Зафиксированы методологические запреты:
  - отсутствие истории повторов;
  - отсутствие временных меток отдельных попыток;
  - недопустимость реконструкций и коррекций данных.
- Определён QC-гейтинг для допуска данных к агрегатному анализу
  (QC_OK, QC_LIMITED, QC_INVALID).

### Notes
- README.md приведён в соответствие с реальной структурой данных
  и согласован с `neuro_data.db`.
- ETL, QC и агрегатный слой считаются методически завершёнными
  и готовы к реализации без изменения смысла данных.
- Все последующие аналитические расширения
  должны рассматриваться как надстройки
  поверх зафиксированного базового слоя.

---
## [2026-01-08] — Формализация дизайна тестов и метаданных PSI

### Added
- Утверждён документ `Test_design_and_PSI_metadata.md`,
  описывающий экспериментальный дизайн системы тестов СЗР
  и происхождение метаданных тестирования.
- Формализован принцип псевдослучайной организации стимулов
  как воспроизводимой, жёстко заданной конфигурации тестов.
- Зафиксирован механизм нерегистрируемых стимулов
  (anti-prediction layer) и его роль в предотвращении угадывания.
- Формализован статус предстимульного интервала (PSI)
  как параметра дизайна теста и потенциальной аналитической оси.

### Clarified
- Явно зафиксировано, что все метаданные тестов
  (локализация стимулов, порядок предъявления, PSI, структура серий)
  задаются конфигурацией тестирующей программы
  и не хранятся в таблицах результатов (`boxbase`, `visual_tests`).
- Разведены уровни ответственности:
  - дизайн теста и метаданные;
  - регистрация данных;
  - ETL, QC и агрегатный анализ.
- Уточнено, что PSI-анализ является надстройкой над агрегатами
  и требует явного указания в аналитическом протоколе.

### Notes
- Документ `Test_design_and_PSI_metadata.md` завершает формализацию
  верхнего уровня архитектуры проекта
  и обеспечивает методологическую воспроизводимость
  анализа ретроспективных данных.
- Все последующие PSI-зависимые и дизайн-зависимые анализы
  должны ссылаться на данный документ как на источник
  экспериментального контекста.

## [2026-01-08] — Расширенные агрегаты после QC

### Added
- Утверждён документ `Aggregates_extended_after_QC.md`,
  расширяющий минимальный агрегатный слой.
- Формализованы латерализационные агрегаты
  (Left / Center / Right) поверх финальных RT.
- Введена функциональная группировка тестов
  (P, P/K, M) без физиологической изоляции каналов.
- Добавлены пороговые показатели
  как описательные характеристики «хвостов» распределений RT.

### Clarified
- Расширенные агрегаты рассматриваются как надстройка
  над минимальными и не заменяют их.
- Высокая вариабельность RT не трактуется автоматически
  как дефект данных и может нести самостоятельную информацию
  о функциональном состоянии системы.

### Notes
- Расширенные агрегаты не нарушают базовый слой
  ETL → QC → Aggregates (minimal)
  и используются только при явном указании в протоколе анализа.


## [2026-01-08] — Сравнительный анализ между зрительными тестами

### Added
- Утверждён документ `Relational_analysis_between_visual_tests.md`,
  описывающий уровень сравнительного анализа между тестами Tst1, Tst2, Tst3.
- Формализованы разностные и контрастные показатели
  между агрегатами различных тестов
  как аналитические конструкты, а не агрегаты.
- Зафиксирован методологический статус показателей
  ΔV4, ΔV5/MT и аналогичных
  как функциональных индикаторов,
  а не прямых физиологических измерений.

### Clarified
- Явно разведены уровни:
  - агрегирование (в пределах одного теста);
  - сравнительный анализ (между тестами).
- Подтверждён запрет на объединение нескольких тестов
  в один агрегат на уровне агрегирования.

### Notes
- Сравнительный анализ является обязательным уровнем
  для комплексной оценки состояния системы СЗР
  и логически завершает аналитическую архитектуру проекта.

## [2026-01-08] — Формализация анализа вариабельности RT

### Added
- Утверждён документ `RT_variability_analysis.md`,
  описывающий анализ вариабельности скоростей зрительных реакций
  как самостоятельный аналитический слой.
- Формализовано рассмотрение внутрисерийной вариабельности RT
  как показателя устойчивости функционирования системы,
  а не как дефекта данных.
- Зафиксированы подходы к анализу:
  - внутрисерийной вариабельности;
  - контекстной вариабельности (в сочетании с пропусками и преждевременными реакциями);
  - латерализационной вариабельности (Left / Center / Right).

### Clarified
- Явно указано, что высокая вариабельность RT
  не подлежит автоматическому подавлению,
  коррекции или отбраковке на уровне QC.
- Разведены роли:
  - QC — проверка допустимости данных;
  - агрегаты — устойчивые характеристики центральной тенденции;
  - анализ вариабельности — оценка стабильности и ограничений методики.
- Подчёркнуто, что анализ вариабельности RT
  используется для методической и физиологической оценки
  ранее проведённого тестирования,
  а не для клинической диагностики.

### Notes
- Анализ вариабельности RT является обязательным контекстом
  для интерпретации агрегатных и сравнительных показателей.
- Результаты данного слоя используются
  для выявления ограничений и неточностей
  прежней методики тестирования СЗР
  и не предполагают проектирования новой методики
  в рамках текущего проекта.
